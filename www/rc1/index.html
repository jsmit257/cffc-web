<!DOCTYPE html>
<html lang="en">

<head>
  <title>release candidate 1</title>

  <meta charset="UTF-8">
  <meta name="description" content="watch your fungus grow">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="noindex,nofollow">

  <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"></script>
  <!-- <script src="./js/jquery-slim-min.js"></script> -->
  <script src="./js/index.js" defer></script>
  <script src="./js/util.js" defer></script>
  <script src="./js/table.js" defer></script>
  <script src="./js/alert.js" defer></script>

  <link rel="manifest" href="./manifest.json">

  <link rel="preload" href="./css/images/background/image.avif" as="image">
  <link rel="preload" href="./css/index.css" as="style" onload="this.onloqd=null;this.rel='stylesheet'">
  <link rel="preload" href="./css/table.css" as="style" onload="this.onloqd=null;this.rel='stylesheet'">
  <link rel="preload" href="./css/alert.css" as="style" onload="this.onloqd=null;this.rel='stylesheet'">
  <noscript>
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/table.css">
    <link rel="stylesheet" href="./css/alert.css">
  </noscript>
</head>

<body>
  <div class="login"></div>

  <div class="menubar">
    <div class="menubtn main" x-stub="lifecycle">lifecycle</div>
    <div class="menubtn main" x-stub="generation">generation</div>
    <div class="menubtn main" x-stub="strain">strain</div>
    <div class="menubtn main" x-stub="substrate">substrate</div>

    <div class="menubtn aux" x-stub="ingredient">ingredient</div>
    <div class="menubtn aux" x-stub="stage">stage</div>
    <div class="menubtn aux" x-stub="vendor">vendor</div>
    <div class="menubtn aux" x-stub="eventtype">eventtype</div>
  </div>

  <div class="main"></div>

  <div class="footer">
    <div class="cookie-bar">
      <ul class="list">
        <li>
          <label>
            <input type="checkbox">
            <span>deleted</span>
          </label>
        </li>
        <li>
          <label>
            <input type="checkbox">
            <span>ID</span>
          </label>
        </li>
        <li>
          <label for="hide-timestamps">
            <input type="checkbox" id="hide-timestamps">
            <span>timestamps</span>
          </label>
        </li>
      </ul>
    </div>

    <div class="powered-by">
      <ul>
        <li>
          <div class="short-text">Huautla</div>
          <div class="long-text">
            <a href="https://github.com/jsmit257/huautla">Huautla</a>
            <a href="https://jsmit257.github.io/huautla">(README)</a>
          </div>
        </li>
        <li>
          <div class="short-text">CFFC</div>
          <div class="long-text">
            <a href="https://github.com/jsmit257/centerforfunguscontrol">CFFC</a>
            <a href="https://jsmit257.github.io/centerforfunguscontrol">(README)</a>
          </div>
        </li>
        <li>
          <div class="short-text">CFFC-Web</div>
          <div class="long-text">
            <a href="https://github.com/jsmit257/cffc-web">CFFC-Web</a>
            <a href="https://jsmit257.github.io/cffc-web">(README)</a>
            <a href="https://jsmit257.github.io/cffc-web/standalone">(Standalone)</a>
          </div>
        </li>
        <li>
          <div class="short-text">Userservice</div>
          <div class="long-text">
            <a href="https://github.com/jsmit257/userservice">Userservice</a>
            <a href="https://jsmit257.github.io/userservice">(README)</a>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <div class="table alert">
    <div class="fieldnames">
      <div name="when">when?</div>
      <div name="action">doing what?</div>
      <div name="message">what happened?</div>
      <div name="severity">how bad?</div>
      <div name="response">resolved by?</div>
    </div>

    <div class="rows">
      <div class="row x-template">
        <div name="when" class="field short-date" x-formatter="short-date"></div>
        <div name="action" class="field"></div>
        <div name="message" class="field" x-formatter="html"></div>
        <div name="severity" class="field"></div>
        <div name="response" class="field">&nbsp;</div>
      </div>
    </div>
  </div>

  <script type="text/javascript" defer>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register("./js/sw.js").then(
        (reg) => {
          console.log("Service worker registration succeeded:", reg);
        },
        (err) => {
          console.error(`Service worker registration failed: ${err}`);
        },
      )
      // try {
      //   navigator.serviceWorker.register('./js/sw.js')
      // } catch (ex) {
      //   $('body>.notification').trigger('activate', [
      //     'debug',
      //     'register service worker',
      //     err,
      //   ])
      // }
    }
    let stub = localStorage.active || 'lifecycle'
    setTimeout(_ => $(`body>.menubar>.menubtn[x-stub="${stub}"]`).click(), 150)
    // $(document).on('ready', _ => $(`body>.menubar>.menubtn[x-stub="${stub}"]`).click())
  </script>
</body>

</html>